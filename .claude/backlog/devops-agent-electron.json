{
  "metadata": {
    "project_name": "SeKondBrain Kanvas",
    "version": "1.0.0",
    "generated_at": "2026-01-10",
    "source_repo": "/Volumes/Simba User Data/Development/SecondBrain_Code_Studio/DevOpsAgent",
    "target_repo": "sekondbrain-kanvas",
    "prd_reference": ".claude/prd/devops-agent-electron.md"
  },
  "epics": [
    {
      "id": "EPIC-1",
      "name": "Project Scaffold",
      "description": "Create the Electron + React + TypeScript project foundation",
      "priority": "critical",
      "status": "pending",
      "estimated_days": 2,
      "stories": [
        {
          "id": "STORY-1.1",
          "as_a": "developer",
          "i_want": "a properly configured Electron + React + TypeScript project",
          "so_that": "I have a foundation to build the desktop app",
          "acceptance_criteria": [
            {
              "id": "AC-1.1.1",
              "criterion": "package.json contains all required dependencies (electron, react, typescript, tailwindcss, zustand, electron-store, chokidar, execa, groq-sdk)",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-1.1.2",
              "criterion": "npm run dev launches an Electron window with React content",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-1.1.3",
              "criterion": "Directory structure matches: src/main/, src/preload/, src/renderer/, src/shared/",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-1.1.4",
              "criterion": "TypeScript compiles without errors (npm run typecheck)",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-1.1.5",
              "criterion": "Tailwind CSS is configured with custom dark theme colors",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Use electron-vite for build tooling",
            "Configure path aliases (@/, @shared/, @renderer/)",
            "Set up contextIsolation: true in BrowserWindow"
          ],
          "estimated_effort": "medium",
          "dependencies": [],
          "target_files": [
            "package.json",
            "tsconfig.json",
            "vite.config.ts",
            "tailwind.config.js",
            "src/main/index.ts",
            "src/preload/index.ts",
            "src/renderer/App.tsx"
          ],
          "skill_references": [".claude/skills/electron-app/SKILL.md"]
        },
        {
          "id": "STORY-1.2",
          "as_a": "developer",
          "i_want": "the shared types defined",
          "so_that": "main and renderer processes have type-safe communication",
          "acceptance_criteria": [
            {
              "id": "AC-1.2.1",
              "criterion": "Session interface defined with all fields from source analysis",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-1.2.2",
              "criterion": "IPC channel constants defined in src/shared/ipc-channels.ts",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-1.2.3",
              "criterion": "ServiceResult<T> generic type defined for IPC responses",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Types must match source analysis data structures",
            "Use const assertion for channel constants"
          ],
          "estimated_effort": "small",
          "dependencies": ["STORY-1.1"],
          "target_files": [
            "src/shared/types.ts",
            "src/shared/ipc-channels.ts"
          ],
          "skill_references": [".claude/skills/ipc-layer/SKILL.md"]
        }
      ]
    },
    {
      "id": "EPIC-2",
      "name": "Core Services Migration",
      "description": "Migrate DevOps Agent source modules to Electron main process services",
      "priority": "critical",
      "status": "pending",
      "estimated_days": 5,
      "stories": [
        {
          "id": "STORY-2.1",
          "as_a": "developer",
          "i_want": "SessionService migrated from session-coordinator.js",
          "so_that": "the app can create, list, and close sessions",
          "acceptance_criteria": [
            {
              "id": "AC-2.1.1",
              "criterion": "createSession() creates worktree, branch, and lock file",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.1.2",
              "criterion": "listSessions() returns all active sessions from lock files",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.1.3",
              "criterion": "closeSession() merges branch and cleans up files",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.1.4",
              "criterion": "IPC events emitted: session:created, session:updated, session:closed",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Convert from ES Module to TypeScript class",
            "Remove all readline usage",
            "Use async/await for all operations",
            "Emit IPC events to mainWindow"
          ],
          "estimated_effort": "large",
          "dependencies": ["STORY-1.2"],
          "target_files": [
            "src/main/services/SessionService.ts"
          ],
          "source_files": [
            "src/session-coordinator.js",
            "src/close-session.js",
            "src/enhanced-close-session.js"
          ],
          "skill_references": [".claude/skills/service-migration/SKILL.md"]
        },
        {
          "id": "STORY-2.2",
          "as_a": "developer",
          "i_want": "GitService migrated from worktree-manager.js",
          "so_that": "the app can perform Git operations",
          "acceptance_criteria": [
            {
              "id": "AC-2.2.1",
              "criterion": "createWorktree() creates git worktree at specified path",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.2.2",
              "criterion": "removeWorktree() removes worktree and prunes",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.2.3",
              "criterion": "getStatus() returns GitStatus object with staged, modified, untracked files",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.2.4",
              "criterion": "commit() stages all changes and commits with message",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.2.5",
              "criterion": "push() pushes to remote origin",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.2.6",
              "criterion": "merge() merges source branch to target with --no-ff",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Use execa for async git operations",
            "Parse git output into typed objects",
            "Handle merge conflicts gracefully"
          ],
          "estimated_effort": "large",
          "dependencies": ["STORY-1.2"],
          "target_files": [
            "src/main/services/GitService.ts"
          ],
          "source_files": [
            "src/worktree-manager.js"
          ],
          "skill_references": [".claude/skills/service-migration/SKILL.md"]
        },
        {
          "id": "STORY-2.3",
          "as_a": "developer",
          "i_want": "WatcherService migrated from cs-devops-agent-worker.js",
          "so_that": "the app can monitor file changes and auto-commit",
          "acceptance_criteria": [
            {
              "id": "AC-2.3.1",
              "criterion": "startWatching() begins chokidar file monitoring on worktree",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.3.2",
              "criterion": "File changes emit 'file:changed' IPC event",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.3.3",
              "criterion": "Commit message file changes trigger auto-commit",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.3.4",
              "criterion": "Auto-commit emits 'commit:completed' IPC event",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.3.5",
              "criterion": "stopWatching() cleanly closes all file watchers",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Use chokidar with ignoreInitial: true",
            "Watch both worktree and commit message file",
            "Debounce rapid file changes"
          ],
          "estimated_effort": "large",
          "dependencies": ["STORY-2.2"],
          "target_files": [
            "src/main/services/WatcherService.ts"
          ],
          "source_files": [
            "src/cs-devops-agent-worker.js",
            "src/file-monitor-enhanced.cjs"
          ],
          "skill_references": [".claude/skills/service-migration/SKILL.md"]
        },
        {
          "id": "STORY-2.4",
          "as_a": "developer",
          "i_want": "LockService migrated from file-coordinator.cjs",
          "so_that": "multiple agents don't edit the same files",
          "acceptance_criteria": [
            {
              "id": "AC-2.4.1",
              "criterion": "declareFiles() creates declaration JSON in .file-coordination/",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.4.2",
              "criterion": "checkConflicts() returns conflicting files with owning agent",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.4.3",
              "criterion": "releaseFiles() removes declaration file",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.4.4",
              "criterion": "Conflicts emit 'conflict:detected' IPC event",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Convert CommonJS to TypeScript",
            "Maintain compatibility with CLI tool declarations"
          ],
          "estimated_effort": "medium",
          "dependencies": ["STORY-1.2"],
          "target_files": [
            "src/main/services/LockService.ts"
          ],
          "source_files": [
            "src/file-coordinator.cjs"
          ],
          "skill_references": [".claude/skills/service-migration/SKILL.md"]
        },
        {
          "id": "STORY-2.5",
          "as_a": "developer",
          "i_want": "ConfigService migrated from branch-config-manager.js and credentials-manager.js",
          "so_that": "settings and API keys are persisted",
          "acceptance_criteria": [
            {
              "id": "AC-2.5.1",
              "criterion": "Settings stored in electron-store, not JSON files",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.5.2",
              "criterion": "API keys stored securely in electron-store",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.5.3",
              "criterion": "getSettings() and setSettings() work correctly",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.5.4",
              "criterion": "Default settings applied on first run",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Use electron-store with schema validation",
            "Migrate existing settings on first launch"
          ],
          "estimated_effort": "medium",
          "dependencies": ["STORY-1.2"],
          "target_files": [
            "src/main/services/ConfigService.ts"
          ],
          "source_files": [
            "src/branch-config-manager.js",
            "src/credentials-manager.js"
          ],
          "skill_references": [".claude/skills/service-migration/SKILL.md"]
        },
        {
          "id": "STORY-2.6",
          "as_a": "developer",
          "i_want": "AIService migrated from agent-chat.js",
          "so_that": "the app can chat with Groq LLM",
          "acceptance_criteria": [
            {
              "id": "AC-2.6.1",
              "criterion": "sendMessage() sends to Groq API and returns response",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.6.2",
              "criterion": "streamChat() yields chunks for streaming display",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.6.3",
              "criterion": "Stream chunks emit 'ai:stream:chunk' IPC events",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-2.6.4",
              "criterion": "API key retrieved from ConfigService",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Use groq-sdk streaming API",
            "Handle rate limits and errors gracefully"
          ],
          "estimated_effort": "medium",
          "dependencies": ["STORY-2.5"],
          "target_files": [
            "src/main/services/AIService.ts"
          ],
          "source_files": [
            "src/agent-chat.js"
          ],
          "skill_references": [".claude/skills/service-migration/SKILL.md"]
        }
      ]
    },
    {
      "id": "EPIC-3",
      "name": "IPC Layer",
      "description": "Create type-safe IPC communication between main and renderer",
      "priority": "critical",
      "status": "pending",
      "estimated_days": 2,
      "stories": [
        {
          "id": "STORY-3.1",
          "as_a": "developer",
          "i_want": "preload script with contextBridge API",
          "so_that": "renderer can securely call main process functions",
          "acceptance_criteria": [
            {
              "id": "AC-3.1.1",
              "criterion": "window.api exposes session, git, watcher, config, ai namespaces",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-3.1.2",
              "criterion": "Each namespace has methods matching service interfaces",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-3.1.3",
              "criterion": "Event subscriptions return unsubscribe functions",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-3.1.4",
              "criterion": "TypeScript types exported for renderer usage",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Use contextBridge.exposeInMainWorld",
            "Type-safe channel communication"
          ],
          "estimated_effort": "medium",
          "dependencies": ["STORY-2.1", "STORY-2.2", "STORY-2.3"],
          "target_files": [
            "src/preload/index.ts",
            "src/renderer/types/electron.d.ts"
          ],
          "skill_references": [".claude/skills/ipc-layer/SKILL.md"]
        },
        {
          "id": "STORY-3.2",
          "as_a": "developer",
          "i_want": "IPC handlers registered in main process",
          "so_that": "renderer calls are routed to services",
          "acceptance_criteria": [
            {
              "id": "AC-3.2.1",
              "criterion": "All session IPC channels have handlers",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-3.2.2",
              "criterion": "All git IPC channels have handlers",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-3.2.3",
              "criterion": "All watcher IPC channels have handlers",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-3.2.4",
              "criterion": "Handlers return ServiceResult<T> format",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Use ipcMain.handle for request/response",
            "Use ipcMain.on for fire-and-forget"
          ],
          "estimated_effort": "medium",
          "dependencies": ["STORY-3.1"],
          "target_files": [
            "src/main/ipc/index.ts",
            "src/main/ipc/session.ipc.ts",
            "src/main/ipc/git.ipc.ts",
            "src/main/ipc/watcher.ipc.ts"
          ],
          "skill_references": [".claude/skills/ipc-layer/SKILL.md"]
        }
      ]
    },
    {
      "id": "EPIC-4",
      "name": "Core UI Components",
      "description": "Build the React frontend layout and core components",
      "priority": "high",
      "status": "pending",
      "estimated_days": 5,
      "stories": [
        {
          "id": "STORY-4.1",
          "as_a": "user",
          "i_want": "a tabbed interface for multiple sessions",
          "so_that": "I can work with multiple AI agents simultaneously",
          "acceptance_criteria": [
            {
              "id": "AC-4.1.1",
              "criterion": "TabBar displays all active sessions as tabs",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-4.1.2",
              "criterion": "Clicking tab switches to that session",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-4.1.3",
              "criterion": "X button on tab closes session (with confirmation)",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-4.1.4",
              "criterion": "+ button opens new session wizard",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-4.1.5",
              "criterion": "Ctrl+T creates new tab, Ctrl+W closes tab",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Use Zustand for tab state",
            "Support keyboard shortcuts"
          ],
          "estimated_effort": "medium",
          "dependencies": ["STORY-3.2"],
          "target_files": [
            "src/renderer/components/Layout/TabBar.tsx",
            "src/renderer/store/sessionStore.ts"
          ],
          "skill_references": [".claude/skills/react-ui/SKILL.md"]
        },
        {
          "id": "STORY-4.2",
          "as_a": "user",
          "i_want": "a sidebar showing sessions, branches, and file locks",
          "so_that": "I can see the state of my workspace",
          "acceptance_criteria": [
            {
              "id": "AC-4.2.1",
              "criterion": "Sessions section lists all active sessions with status",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-4.2.2",
              "criterion": "Branches section shows hierarchical tree (main → daily → session)",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-4.2.3",
              "criterion": "File Locks section shows files locked by current session",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-4.2.4",
              "criterion": "Action buttons: Start, Stop, Merge, Settings",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Collapsible sections",
            "Real-time updates from IPC"
          ],
          "estimated_effort": "large",
          "dependencies": ["STORY-3.2"],
          "target_files": [
            "src/renderer/components/Layout/Sidebar.tsx",
            "src/renderer/components/Git/BranchTree.tsx",
            "src/renderer/components/FileCoordination/FileLockList.tsx"
          ],
          "skill_references": [".claude/skills/react-ui/SKILL.md"]
        },
        {
          "id": "STORY-4.3",
          "as_a": "user",
          "i_want": "a session canvas with chat and activity panels",
          "so_that": "I can interact with the AI and see what's happening",
          "acceptance_criteria": [
            {
              "id": "AC-4.3.1",
              "criterion": "Canvas header shows session name, status, branch",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-4.3.2",
              "criterion": "Split pane with chat on left, activity log on right",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-4.3.3",
              "criterion": "Pane divider is draggable to resize",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-4.3.4",
              "criterion": "Status bar shows commits, files changed, agent type",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Use SplitPane component",
            "Persist pane sizes"
          ],
          "estimated_effort": "large",
          "dependencies": ["STORY-4.1"],
          "target_files": [
            "src/renderer/components/Session/SessionCanvas.tsx",
            "src/renderer/components/composites/SplitPane.tsx",
            "src/renderer/components/Layout/StatusBar.tsx"
          ],
          "skill_references": [".claude/skills/react-ui/SKILL.md"]
        },
        {
          "id": "STORY-4.4",
          "as_a": "user",
          "i_want": "the main layout assembled",
          "so_that": "I see the complete application interface",
          "acceptance_criteria": [
            {
              "id": "AC-4.4.1",
              "criterion": "App.tsx renders TabBar at top",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-4.4.2",
              "criterion": "MainLayout renders Sidebar and SessionCanvas",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-4.4.3",
              "criterion": "StatusBar renders at bottom",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-4.4.4",
              "criterion": "Dark theme applied with custom colors",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Flexbox layout filling viewport",
            "No scrollbars on main layout (panels scroll internally)"
          ],
          "estimated_effort": "medium",
          "dependencies": ["STORY-4.1", "STORY-4.2", "STORY-4.3"],
          "target_files": [
            "src/renderer/App.tsx",
            "src/renderer/components/Layout/MainLayout.tsx"
          ],
          "skill_references": [".claude/skills/react-ui/SKILL.md"]
        }
      ]
    },
    {
      "id": "EPIC-5",
      "name": "Feature Components",
      "description": "Build the feature-specific UI components",
      "priority": "high",
      "status": "pending",
      "estimated_days": 5,
      "stories": [
        {
          "id": "STORY-5.1",
          "as_a": "user",
          "i_want": "a chat panel for Kora AI",
          "so_that": "I can interact with the AI assistant",
          "acceptance_criteria": [
            {
              "id": "AC-5.1.1",
              "criterion": "Messages display with user/assistant styling",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.1.2",
              "criterion": "Streaming responses show with typing indicator",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.1.3",
              "criterion": "Input field with send button",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.1.4",
              "criterion": "Auto-scroll to newest message",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.1.5",
              "criterion": "Enter sends message, Shift+Enter adds newline",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Subscribe to ai:stream:chunk events",
            "Markdown rendering for responses"
          ],
          "estimated_effort": "large",
          "dependencies": ["STORY-4.3"],
          "target_files": [
            "src/renderer/components/Chat/ChatPanel.tsx",
            "src/renderer/components/Chat/ChatMessage.tsx",
            "src/renderer/components/Chat/ChatInput.tsx",
            "src/renderer/hooks/useAIChat.ts"
          ],
          "skill_references": [".claude/skills/react-ui/SKILL.md"]
        },
        {
          "id": "STORY-5.2",
          "as_a": "user",
          "i_want": "an activity log showing commits and changes",
          "so_that": "I can see what the agent is doing",
          "acceptance_criteria": [
            {
              "id": "AC-5.2.1",
              "criterion": "Log entries show timestamp, type icon, message",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.2.2",
              "criterion": "Color-coded by type (success, warning, error, info)",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.2.3",
              "criterion": "New entries animate in",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.2.4",
              "criterion": "Scrollable with newest at bottom",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Subscribe to activity:log IPC events",
            "Store entries in Zustand"
          ],
          "estimated_effort": "medium",
          "dependencies": ["STORY-4.3"],
          "target_files": [
            "src/renderer/components/Terminal/ActivityLog.tsx",
            "src/renderer/store/activityStore.ts",
            "src/renderer/hooks/useActivity.ts"
          ],
          "skill_references": [".claude/skills/react-ui/SKILL.md"]
        },
        {
          "id": "STORY-5.3",
          "as_a": "user",
          "i_want": "a new session wizard",
          "so_that": "I can easily create new sessions",
          "acceptance_criteria": [
            {
              "id": "AC-5.3.1",
              "criterion": "Modal dialog opens when clicking + tab or Ctrl+N",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.3.2",
              "criterion": "Form fields: repository path, task name, agent type",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.3.3",
              "criterion": "Agent type dropdown: Claude, Cursor, Copilot, Cline, Aider",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.3.4",
              "criterion": "Create button calls session:create IPC",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.3.5",
              "criterion": "New session opens in new tab automatically",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Form validation",
            "Remember last used repository"
          ],
          "estimated_effort": "medium",
          "dependencies": ["STORY-4.1"],
          "target_files": [
            "src/renderer/components/Session/NewSessionWizard.tsx"
          ],
          "skill_references": [".claude/skills/react-ui/SKILL.md"]
        },
        {
          "id": "STORY-5.4",
          "as_a": "user",
          "i_want": "a close session dialog",
          "so_that": "I can safely close sessions with merge options",
          "acceptance_criteria": [
            {
              "id": "AC-5.4.1",
              "criterion": "Confirmation dialog shows session name and branch",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.4.2",
              "criterion": "Option to merge to daily branch",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.4.3",
              "criterion": "Option for dual merge (daily + target)",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.4.4",
              "criterion": "Shows uncommitted changes warning if present",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Fetch git status before showing dialog",
            "Call session:close with merge options"
          ],
          "estimated_effort": "medium",
          "dependencies": ["STORY-4.1"],
          "target_files": [
            "src/renderer/components/Session/CloseSessionDialog.tsx"
          ],
          "skill_references": [".claude/skills/react-ui/SKILL.md"]
        },
        {
          "id": "STORY-5.5",
          "as_a": "user",
          "i_want": "a settings modal",
          "so_that": "I can configure the app without environment variables",
          "acceptance_criteria": [
            {
              "id": "AC-5.5.1",
              "criterion": "API Keys section for Groq key entry",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.5.2",
              "criterion": "Branch settings: default merge target, dual merge toggle",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.5.3",
              "criterion": "Changes saved to electron-store",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-5.5.4",
              "criterion": "Settings persist across app restarts",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Use ConfigService IPC",
            "Mask API key input"
          ],
          "estimated_effort": "medium",
          "dependencies": ["STORY-3.2"],
          "target_files": [
            "src/renderer/components/Settings/SettingsModal.tsx",
            "src/renderer/components/Settings/CredentialsForm.tsx",
            "src/renderer/components/Settings/BranchConfigForm.tsx"
          ],
          "skill_references": [".claude/skills/react-ui/SKILL.md"]
        }
      ]
    },
    {
      "id": "EPIC-6",
      "name": "Polish & Packaging",
      "description": "Final polish, testing, and cross-platform packaging",
      "priority": "medium",
      "status": "pending",
      "estimated_days": 3,
      "stories": [
        {
          "id": "STORY-6.1",
          "as_a": "user",
          "i_want": "keyboard shortcuts for common actions",
          "so_that": "I can work efficiently",
          "acceptance_criteria": [
            {
              "id": "AC-6.1.1",
              "criterion": "Ctrl+N / Cmd+N creates new session",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-6.1.2",
              "criterion": "Ctrl+W / Cmd+W closes current session",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-6.1.3",
              "criterion": "Ctrl+Tab switches to next tab",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-6.1.4",
              "criterion": "Ctrl+, / Cmd+, opens settings",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Use useKeyboardShortcuts hook",
            "Respect OS conventions (Cmd on Mac, Ctrl on Windows/Linux)"
          ],
          "estimated_effort": "small",
          "dependencies": ["STORY-5.3", "STORY-5.5"],
          "target_files": [
            "src/renderer/hooks/useKeyboardShortcuts.ts",
            "src/renderer/App.tsx"
          ],
          "skill_references": []
        },
        {
          "id": "STORY-6.2",
          "as_a": "developer",
          "i_want": "cross-platform packaging configured",
          "so_that": "users can install the app on Mac, Windows, Linux",
          "acceptance_criteria": [
            {
              "id": "AC-6.2.1",
              "criterion": "npm run package:mac produces .dmg",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-6.2.2",
              "criterion": "npm run package:win produces .exe installer",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-6.2.3",
              "criterion": "npm run package:linux produces .AppImage",
              "testable": true,
              "status": "pending"
            },
            {
              "id": "AC-6.2.4",
              "criterion": "App icons set for all platforms",
              "testable": true,
              "status": "pending"
            }
          ],
          "technical_requirements": [
            "Configure electron-builder.yml",
            "Create app icons in required sizes"
          ],
          "estimated_effort": "medium",
          "dependencies": ["STORY-1.1"],
          "target_files": [
            "electron-builder.yml",
            "resources/icon.icns",
            "resources/icon.ico",
            "resources/icon.png"
          ],
          "skill_references": [".claude/skills/electron-app/SKILL.md"]
        }
      ]
    }
  ]
}
